<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags - Otimizadas para Google e Redes Sociais -->
    <title>Guarddrone - Segurança Aérea com Drones em SC | Vigilância Proativa</title>
    <meta name="description" content="Guarddrone oferece vigilância aérea proativa com drones em Santa Catarina. Proteção residencial, comercial e agronegócio. Durma em paz, nós vigiamos.">

    <!-- Open Graph (Facebook, WhatsApp, etc.) -->
    <meta property="og:title" content="Guarddrone: A Vanguarda da Segurança com Drones">
    <meta property="og:description" content="Substitua a insegurança pela tranquilidade. Vigilância aérea inteligente para residências, agronegócios e indústrias.">
    <meta property="og:image" content="https://placehold.co/1200x630/0D161C/FFFFFF?text=GUARDDRONE&font=montserrat">
    <meta property="og:url" content="https://www.guarddrone.com.br">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="pt_BR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Guarddrone: A Vanguarda da Segurança com Drones">
    <meta name="twitter:description" content="Substitua a insegurança pela tranquilidade. Vigilância aérea inteligente para residências, agronegócios e indústrias.">
    <meta name="twitter:image" content="https://placehold.co/1200x630/0D161C/FFFFFF?text=GUARDDRONE&font=montserrat">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@900&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom Styles -->
    <style>
        /* ==========================================================================
           1. ESTILOS GLOBAIS E VARIÁVEIS DE DESIGN (DESIGN TOKENS)
           ========================================================================== */
        :root {
            --color-red: #DA291C;
            --color-blue: #117AAC;
            --color-green: #2ECC71;
            --color-bg-dark: #0A1014;
            --color-bg-surface: #0D161C;
            --color-border: #2A3F4D;
            --color-text-primary: #FFFFFF;
            --color-text-secondary: #A0B3C1;
        }

        html { scroll-behavior: smooth; }
        body {
            background-color: var(--color-bg-dark);
            color: var(--color-text-primary);
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Estilos para o vídeo de fundo */
        .video-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -2;
        }

        .video-background video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            filter: brightness(0.6);
        }

        /* ==========================================================================
           2. CLASSES DE UTILIDADE CUSTOMIZADAS
           ========================================================================== */
        .font-brand-logo { font-family: 'Montserrat', sans-serif; font-weight: 900; letter-spacing: 0.05em; text-transform: uppercase; } /* FONTE ORIGINAL DO LOGOTIPO */
        .font-logo { font-family: 'Space Grotesk', sans-serif; font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; }
        .font-title { font-family: 'Space Grotesk', sans-serif; font-weight: 700; }

        .text-brand-red { color: var(--color-red); }
        .bg-brand-red { background-color: var(--color-red); }
        .text-brand-blue { color: var(--color-blue); }
        .bg-brand-blue { background-color: var(--color-blue); }
        .text-brand-green { color: var(--color-green); }
        .bg-brand-green { background-color: var(--color-green); }
        .bg-surface { background-color: var(--color-bg-surface); }
        .border-brand { border-color: var(--color-border); }

        /* Esconde elementos para animação de fade-in com IntersectionObserver */
        .hidden-on-load { opacity: 0; }
        .hidden { display: none; }

        /* ==========================================================================
           3. ESTILOS DE COMPONENTES
           ========================================================================== */

        /* --- Botões --- */
        .cta-button {
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .cta-button:hover:not([disabled]) {
            transform: scale(1.05);
            box-shadow: 0 7px 25px rgba(46, 204, 113, 0.4);
        }
        .cta-button[disabled] {
            cursor: not-allowed;
            background-color: #555;
            opacity: 0.7;
        }
        .botao-flutuante {
            position: fixed;
            width: 60px; height: 60px;
            bottom: 40px; right: 40px;
            background-color: var(--color-green);
            color: #FFF;
            border-radius: 50px;
            text-align: center;
            font-size: 30px;
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            animation: pulsar 2.5s ease-in-out infinite;
        }

        /* --- Formulários --- */
        .form-group { position: relative; }
        .form-input, .form-select {
            background-color: var(--color-bg-dark);
            border: 1px solid var(--color-border);
            color: var(--color-text-primary);
            width: 100%;
            padding: 1.25rem 1rem 0.5rem;
            border-radius: 0.375rem;
            transition: border-color 0.3s ease;
            appearance: none;
        }
        .form-label {
            position: absolute;
            top: 0.9rem;
            left: 1rem;
            color: var(--color-text-secondary);
            pointer-events: none;
            transition: all 0.2s ease-out;
        }
        .form-input:focus, .form-select:focus,
        .form-input:not(:placeholder-shown) {
            outline: none;
            border-color: var(--color-blue);
        }
        .form-input:focus + .form-label,
        .form-input:not(:placeholder-shown) + .form-label,
        .form-select:focus + .form-label,
        .form-select:valid + .form-label,
        .form-label.active-label {
            top: 0.25rem;
            font-size: 0.75rem;
            color: var(--color-blue);
        }
        .form-input.invalid, .form-select.invalid { border-color: var(--color-red) !important; }
        .form-group .fa-chevron-down {
            position: absolute;
            top: 50%;
            right: 1rem;
            transform: translateY(-50%);
            pointer-events: none;
            color: var(--color-text-secondary);
        }
        .feedback-icon {
            position: absolute;
            top: 50%;
            right: 1rem;
            transform: translateY(-50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .feedback-icon.visible { opacity: 1; }

        /* --- Tooltips --- */
        .tooltip { position: relative; cursor: help; }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 240px;
            background-color: var(--color-bg-dark);
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -120px;
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid var(--color-border);
            font-size: 0.8rem;
            pointer-events: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--color-border) transparent transparent transparent;
        }
        .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }

        /* --- Cards e Seções Interativas --- */
        .pricing-option {
            border: 2px solid var(--color-border);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        .pricing-option:hover:not(.disabled-option) { border-color: var(--color-blue); }
        .pricing-option.selected {
            border-color: var(--color-red);
            box-shadow: 0 0 20px rgba(218, 41, 28, 0.3);
            transform: scale(1.02);
        }
        .pricing-option.selected:hover { border-color: var(--color-red); }
        .pricing-option.disabled-option {
            cursor: not-allowed;
            opacity: 0.6;
            filter: grayscale(100%);
        }

        .selected-badge, .popular-badge {
            position: absolute;
            padding: 4px 12px;
            font-size: 0.75rem;
            font-weight: bold;
            color: white;
            z-index: 5;
        }
        .pricing-option.selected .selected-badge { display: block; }
        .selected-badge { display: none; }
        .selected-badge.top-left { top: -1px; left: -1px; background-color: var(--color-red); border-bottom-right-radius: 0.5rem; border-top-left-radius: 0.5rem; }
        .selected-badge.top-right { top: -1px; right: -1px; background-color: var(--color-red); border-bottom-left-radius: 0.5rem; border-top-right-radius: 0.5rem; }
        .popular-badge { top: -1px; right: -1px; background-color: var(--color-red); border-bottom-left-radius: 0.5rem; border-top-right-radius: 0.5rem; }

        .drone-card {
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
            position: relative;
        }
        .drone-card-inner { transform: translateZ(20px); }
        .drone-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            border-radius: 0.375rem; /* igual a rounded-lg */
            background: radial-gradient( circle at var(--mouse-x) var(--mouse-y), rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0) 30% );
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .drone-card:hover::before { opacity: 1; }

        .drone-img { 
            transform: translateZ(50px); 
            transition: transform 0.5s ease; 
            max-width: 100%;
            height: auto;
        }
        .drone-card:hover .drone-img { transform: translateZ(50px) scale(1.05); }


        .faq-item.open .faq-question-icon { transform: rotate(180deg); }
        .faq-category-btn { transition: all 0.3s ease; }
        .faq-category-btn.active { background-color: var(--color-red); color: white; box-shadow: 0 0 15px rgba(218, 41, 28, 0.4); }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            padding-top: 0;
            padding-bottom: 0;
        }
        .faq-item.open .faq-answer { max-height: 500px; padding-top: 1rem; padding-bottom: 1rem; }

        .authority-logo-container {
            filter: grayscale(100%) opacity(0.6);
            transition: all 0.3s ease;
        }
        .authority-logo-container:hover {
            filter: grayscale(0%) opacity(1);
            transform: scale(1.1);
        }

        /* --- Modal (Ajustado para responsividade) --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .modal-overlay.visible { opacity: 1; pointer-events: auto; }
        .modal-content {
            background: var(--color-bg-dark);
            border: 1px solid var(--color-border);
            color: var(--color-text-primary);
            padding: 20px;
            border-radius: 12px;
            width: calc(100% - 2rem); 
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            transform: scale(0.95);
            transition: transform 0.3s ease;
            margin: 1rem;
        }
        .modal-overlay.visible .modal-content { transform: scale(1); }
        .modal-close-btn {
            position: absolute;
            top: 10px; right: 15px;
            background: none; border: none;
            font-size: 24px; color: var(--color-text-secondary);
            cursor: pointer; line-height: 1;
            padding: 5px;
        }

        /* ==========================================================================
           4. ANIMAÇÕES E EFEITOS ESPECIAIS
           ========================================================================== */

        /* --- Animações de Entrada (Fade-in) --- */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        .fade-in-delay-1 { animation-delay: 0.2s; }
        .fade-in-delay-2 { animation-delay: 0.4s; }
        .fade-in-delay-3 { animation-delay: 0.6s; }
        .fade-in-delay-4 { animation-delay: 0.8s; }
        .fade-in-delay-5 { animation-delay: 1.0s; }

        /* --- Animações Contínuas --- */
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        .typing-cursor { animation: blink 1s step-end infinite; }

        @keyframes pulsar {
          0% { transform: scale(1); box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2); }
          50% { transform: scale(1.1); box-shadow: 0px 6px 20px rgba(46, 204, 113, 0.4); }
          100% { transform: scale(1); box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2); }
        }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* --- Animações de UI --- */
        .icon-hover-effect { transition: transform 0.3s ease-in-out; }
        *:hover > .icon-hover-effect { transform: scale(1.15) rotate(-5deg); }

        @keyframes house-pop-in {
            0% { transform: scale(0); opacity: 0; }
            80% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .house-icon { animation: house-pop-in 0.5s ease-out forwards; opacity: 0; }

        @keyframes benefit-glow {
            0%, 100% { filter: drop-shadow(0 0 0px var(--color)); }
            50% { filter: drop-shadow(0 0 5px var(--color)); }
        }
        .benefit-icon { animation: benefit-glow 3s infinite ease-in-out; }

        /* --- Canvas de Fundo --- */
        #hero-canvas {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
        }
        #hero-canvas + div {
            position: relative;
            z-index: 10;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Contêiner para o vídeo de fundo -->
    <div class="video-background">
        <video autoplay muted loop playsinline>
            <source src="assets/93782213.mp4" type="video/mp4">
            Seu navegador não suporta a tag de vídeo.
        </video>
    </div>

    <!-- ==========================================================================
       CABEÇALHO
       ========================================================================== -->
    <header class="bg-surface/70 backdrop-blur-sm fixed top-0 left-0 right-0 z-50 border-b border-brand">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0">
                    <a href="#" class="font-brand-logo text-2xl">Guarddrone</a>
                </div>
                <nav class="hidden md:flex md:items-center md:space-x-8">
                    <a href="#how-it-works" class="text-sm font-medium text-gray-300 hover:text-white transition-colors duration-300">Como Funciona</a>
                    <a href="#fleet" class="text-sm font-medium text-gray-300 hover:text-white transition-colors duration-300">Nossa Frota</a>
                    <a href="#service" class="text-sm font-medium text-gray-300 hover:text-white transition-colors duration-300">O Serviço</a>
                    <a href="#plans" class="text-sm font-medium text-gray-300 hover:text-white transition-colors duration-300">Planos</a>
                    <a href="#faq" class="text-sm font-medium text-gray-300 hover:text-white transition-colors duration-300">Dúvidas</a>
                    <a href="#compliance" class="text-sm font-medium text-gray-300 hover:text-white transition-colors duration-300">Conformidade</a>
                    <a href="#contact" class="bg-brand-green hover:bg-opacity-90 text-white text-sm font-bold py-2 px-4 rounded-lg transition-all duration-300 flex items-center">
                        <i class="fab fa-whatsapp mr-2"></i> Contato WhatsApp
                    </a>
                </nav>
                <div class="md:hidden">
                    <a href="#contact" class="bg-brand-green hover:bg-opacity-90 text-white text-sm font-bold py-2 px-4 rounded-lg transition"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
        </div>
    </header>

    <!-- ==========================================================================
       CONTEÚDO PRINCIPAL
       ========================================================================== -->
    <main class="pt-20">
        <!-- SEÇÃO HERO -->
        <!-- CORREÇÃO: Removidas as classes de padding vertical (py-*) e adicionadas classes flex e de altura mínima.
             'flex' e 'items-center' centralizam o conteúdo verticalmente.
             'min-h-[550px]' e 'md:min-h-[600px]' garantem que a seção mantenha uma altura constante, 
             eliminando o "pulo" do layout durante a animação de digitação. -->
        <section class="relative flex items-center min-h-[550px] md:min-h-[600px] overflow-hidden" style="background-color: rgba(10, 16, 20, 0.7);">
            <canvas id="hero-canvas"></canvas>
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <p class="font-semibold text-brand-red uppercase tracking-wider mb-2 hidden-on-load fade-in">A NOVA ERA DA SEGURANÇA</p>
                <!-- A classe de altura mínima do h1 foi removida pois a solução foi aplicada na seção pai. -->
                <h1 class="font-title text-4xl sm:text-5xl md:text-6xl text-white mb-6 hidden-on-load fade-in-delay-1">
                    Sua <span id="typing-effect" class="text-brand-green"></span><span class="typing-cursor text-brand-green">|</span> não tem preço.<br> A insegurança, sim.
                </h1>
                <p class="max-w-3xl text-lg md:text-xl text-text-secondary mb-10 hidden-on-load fade-in-delay-2">
                    Usamos drones não como aparelhos, mas como sentinelas proativas que guardam seu sono, sua família e seus bens, criando um escudo de proteção que antecipa e inibe ameaças antes que elas se concretizem.
                </p>
                <a href="#plans" class="cta-button bg-brand-green text-white font-bold py-4 px-10 rounded-lg text-lg inline-block hidden-on-load fade-in-delay-3">
                    Conheça os Planos de Proteção
                </a>
            </div>
        </section>

        <!-- SEÇÃO COMO FUNCIONA (AGORA COM 5 PASSOS) -->
        <section id="how-it-works" class="py-20 bg-surface">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="font-title text-3xl md:text-4xl text-white">Seu Protocolo de Tranquilidade em 5 Passos</h2>
                    <p class="mt-4 text-lg text-text-secondary max-w-2xl mx-auto">Simplificamos a segurança avançada para que você não precise de se preocupar com nada.</p>
                </div>
                <div class="relative max-w-4xl mx-auto">
                    <!-- Linha do tempo vertical para telas maiores -->
                    <div class="absolute left-1/2 top-4 bottom-4 w-0.5 bg-brand -ml-px hidden md:block"></div>
                    <div class="space-y-12 md:space-y-16">
                        <!-- Passo 1 -->
                        <div class="relative hidden-on-load fade-in">
                            <div class="md:flex items-center md:justify-start md:flex-row-reverse">
                                <div class="md:w-1/2 md:pl-8">
                                    <h3 class="font-title text-2xl text-brand-red mb-2 text-center md:text-left">1. Patrulha Noturna</h3>
                                    <p class="text-text-secondary text-center md:text-left">Enquanto você descansa, os nossos drones executam rondas programadas, vigiando silenciosamente do céu.</p>
                                </div>
                                <div class="flex-shrink-0 w-20 h-20 bg-surface rounded-full flex items-center justify-center border-2 border-brand mx-auto my-4 md:my-0 relative z-10">
                                    <i class="fas fa-moon text-3xl text-white icon-hover-effect"></i>
                                </div>
                            </div>
                        </div>
                        <!-- Passo 2 -->
                         <div class="relative hidden-on-load fade-in">
                             <div class="md:flex items-center md:justify-end">
                                <div class="md:w-1/2 md:text-right md:pr-8">
                                    <h3 class="font-title text-2xl text-brand-red mb-2 text-center md:text-right">2. Deteção de Anomalia</h3>
                                    <p class="text-text-secondary text-center md:text-right">Ao identificar qualquer atividade suspeita, o nosso piloto analisa a situação em tempo real com câmaras de alta definição.</p>
                                </div>
                                <div class="flex-shrink-0 w-20 h-20 bg-surface rounded-full flex items-center justify-center border-2 border-brand mx-auto my-4 md:my-0 relative z-10">
                                    <i class="fas fa-search-location text-3xl text-white icon-hover-effect"></i>
                                </div>
                            </div>
                        </div>
                        <!-- Passo 3 -->
                        <div class="relative hidden-on-load fade-in">
                            <div class="md:flex items-center md:justify-start md:flex-row-reverse">
                                <div class="md:w-1/2 md:pl-8">
                                    <h3 class="font-title text-2xl text-brand-red mb-2 text-center md:text-left">3. Alerta Imediato</h3>
                                    <p class="text-text-secondary text-center md:text-left">Você recebe um alerta instantâneo no seu WhatsApp com a imagem e localização da ocorrência. Você vê o que nós vemos.</p>
                                </div>
                                <div class="flex-shrink-0 w-20 h-20 bg-surface rounded-full flex items-center justify-center border-2 border-brand mx-auto my-4 md:my-0 relative z-10">
                                    <i class="fab fa-whatsapp text-3xl text-white icon-hover-effect"></i>
                                </div>
                            </div>
                        </div>
                        <!-- Passo 4 -->
                        <div class="relative hidden-on-load fade-in">
                             <div class="md:flex items-center md:justify-end">
                                <div class="md:w-1/2 md:text-right md:pr-8">
                                    <h3 class="font-title text-2xl text-brand-red mb-2 text-center md:text-right">4. Resposta Coordenada</h3>
                                    <p class="text-text-secondary text-center md:text-right">Em caso de risco confirmado, acionamos a Polícia Militar imediatamente, fornecendo dados precisos para uma ação rápida e eficaz. <strong>A sua segurança é a prioridade: não se exponha.</strong></p>
                                </div>
                                <div class="flex-shrink-0 w-20 h-20 bg-surface rounded-full flex items-center justify-center border-2 border-brand mx-auto my-4 md:my-0 relative z-10">
                                    <i class="fas fa-bullhorn text-3xl text-white icon-hover-effect"></i>
                                </div>
                            </div>
                        </div>
                        <!-- Passo 5: NOVO PASSO "SOBREVOO AGORA" -->
                        <div class="relative hidden-on-load fade-in">
                            <div class="md:flex items-center md:justify-start md:flex-row-reverse">
                                <div class="md:w-1/2 md:pl-8">
                                    <h3 class="font-title text-2xl text-brand-red mb-2 text-center md:text-left">5. Sobrevoo Agora: Tenha o Controle Total da Sua Segurança</h3>
                                    <p class="text-text-secondary text-center md:text-left">Solicite um sobrevoo imediato via WhatsApp! Enviaremos uma aeronave para sua casa e você receberá as imagens diretamente no seu celular. Sua tranquilidade é nosso diferencial.</p>
                                </div>
                                <div class="flex-shrink-0 w-20 h-20 bg-surface rounded-full flex items-center justify-center border-2 border-brand mx-auto my-4 md:my-0 relative z-10">
                                    <i class="fas fa-rocket text-3xl text-white icon-hover-effect"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SEÇÃO NOSSA FROTA -->
        <section id="fleet" class="py-20 bg-color-bg-dark">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="font-title text-3xl md:text-4xl text-white">Nossa Frota: Tecnologia de Ponta para Sua Segurança</h2>
                    <p class="mt-4 text-lg text-text-secondary max-w-3xl mx-auto">A excelência da nossa vigilância começa com a seleção criteriosa da nossa frota. Não usamos apenas drones; empregamos aeronaves especializadas, cada uma com um propósito definido, garantindo eficiência, discrição e a mais alta tecnologia a serviço da sua segurança.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <!-- Cartão Drone 1: Especialista Tático -->
                    <div class="bg-surface p-8 rounded-lg border border-brand hidden-on-load fade-in drone-card">
                         <div class="drone-card-inner">
                            <img src="Assets/52364782.png" alt="Drone DJI Air 3" class="drone-img w-32 h-auto mx-auto mb-6">
                            <h3 class="font-title text-xl text-brand-red mb-2">O Especialista Tático</h3>
                            <p class="font-semibold text-white mb-2">DJI Mavic 3T Enterprise</p>
                            <p class="text-text-secondary">Equipado com câmera térmica e zoom de alta potência, este é o nosso especialista. Ideal para missões complexas, agronegócio e detecção de ameaças invisíveis, mesmo na escuridão total.</p>
                        </div>
                    </div>
                    <!-- Cartão Drone 2: Vigilante Versátil -->
                    <div class="bg-surface p-8 rounded-lg border border-brand hidden-on-load fade-in-delay-1 drone-card">
                        <div class="drone-card-inner">
                            <img src="Assets/52364781.png" alt="Drone DJI Mavic 3T Enterprise" class="drone-img w-32 h-auto mx-auto mb-6">
                            <h3 class="font-title text-xl text-brand-blue mb-2">O Vigilante Versátil</h3>
                            <p class="font-semibold text-white mb-2">DJI Air 3</p>
                            <p class="text-text-secondary">A pedra angular da nossa operação de vigilância. Combina longo tempo de voo com câmeras de alta qualidade, garantindo patrulhas extensas e imagens cristalinas para cobertura perimetral completa e eficiente.</p>
                        </div>
                    </div>
                    <!-- Cartão Drone 3: Mini -->
                    <div class="bg-surface p-8 rounded-lg border border-brand hidden-on-load fade-in-delay-2 drone-card">
                        <div class="drone-card-inner">
                            <img src="Assets/52364783.png" alt="Drone DJI Mini 4 Pro / Mini 3" class="drone-img w-32 h-auto mx-auto mb-6">
                            <h3 class="font-title text-xl text-brand-green mb-2">O Sentinela Silencioso</h3>
                            <p class="font-semibold text-white mb-2">DJI Mini 4 Pro / Mini 3</p>
                            <p class="text-text-secondary">Leve, ágil e extraordinariamente discreto. É a escolha perfeita para áreas residenciais, onde o baixo ruído é crucial. Protege sua paz sem perturbação, atendendo às regulamentações mais simples com máxima eficiência.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SEÇÃO SOLUÇÃO / SERVIÇO -->
        <section id="service" class="py-20 bg-surface">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="font-title text-3xl md:text-4xl text-white">O Escudo Guarddrone: Inteligência que Protege.</h2>
                    <p class="mt-4 text-lg text-text-secondary max-w-2xl mx-auto">Unimos tecnologia de ponta e expertise humana para criar uma proteção completa, eficaz e que respeita a sua paz.</p>
                </div>
                 <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-8">
                     <div class="flex items-start space-x-6 p-6 hidden-on-load fade-in">
                         <div class="flex-shrink-0"><i class="fas fa-shield-alt text-3xl text-brand-blue icon-hover-effect"></i></div>
                         <div>
                             <h3 class="font-title text-xl mb-2">Rondas Aéreas Proativas</h3>
                             <p class="text-text-secondary">Realizamos múltiplas rondas no seu perímetro todas as noites. E o melhor: quanto mais vizinhos aderem ao nosso escudo de segurança, mais vezes os nossos drones patrulham a sua rua.</p>
                         </div>
                     </div>
                     <div class="flex items-start space-x-6 p-6 hidden-on-load fade-in">
                         <div class="flex-shrink-0"><i class="fas fa-eye text-3xl text-brand-blue icon-hover-effect"></i></div>
                         <div>
                             <h3 class="font-title text-xl mb-2">Cobertura Perimetral Total</h3>
                             <p class="text-text-secondary">Eliminamos os pontos cegos. A nossa visão aérea cobre 100% do seu terreno - frente, fundos e laterais - para uma vigilância verdadeiramente completa.</p>
                         </div>
                     </div>
                     <div class="flex items-start space-x-6 p-6 hidden-on-load fade-in">
                         <div class="flex-shrink-0"><i class="fas fa-microphone-slash text-3xl text-brand-blue icon-hover-effect"></i></div>
                         <div>
                             <h3 class="font-title text-xl mb-2">Operação Discreta e Silenciosa</h3>
                             <p class="text-text-secondary">Voamos a uma altitude que nos torna praticamente inaudíveis. Protegemos o seu sono e a sua privacidade, oferecendo segurança sem perturbação.</p>
                         </div>
                     </div>
                     <div class="flex items-start space-x-6 p-6 hidden-on-load fade-in">
                         <div class="flex-shrink-0"><i class="fas fa-user-astronaut text-3xl text-brand-blue icon-hover-effect"></i></div>
                         <div>
                             <h3 class="font-title text-xl mb-2">Inteligência Humana no Comando</h3>
                             <p class="text-text-secondary">Cada voo é supervisionado por um piloto treinado, um especialista em segurança capaz de analisar, interpretar e agir com precisão. É a fusão perfeita entre máquina e mente.</p>
                         </div>
                     </div>
                 </div>
            </div>
        </section>

        <!-- SEÇÃO CONFORMIDADE -->
        <section id="compliance" class="py-20 bg-color-bg-dark">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="font-title text-3xl md:text-4xl text-white">O Nosso Compromisso: Excelência e Conformidade Global.</h2>
                    <p class="mt-4 text-lg text-text-secondary max-w-3xl mx-auto">Não apenas seguimos as regras, nós operamos com base nos mais altos padrões internacionais de qualidade, segurança e ética. Isto não é um diferencial, é a nossa obrigação.</p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 text-center">
                    <div class="authority-logo-container hidden-on-load fade-in tooltip">
                        <p class="font-logo text-2xl">ANAC</p>
                        <p class="text-xs text-text-secondary mt-1">Conformidade Aeronáutica</p>
                        <span class="tooltiptext">Agência Nacional de Aviação Civil. Garantimos que todas as nossas aeronaves e pilotos são certificados, seguindo as regras para operações seguras.</span>
                    </div>
                    <div class="authority-logo-container hidden-on-load fade-in fade-in-delay-1 tooltip">
                        <p class="font-logo text-2xl">DECEA</p>
                        <p class="text-xs text-text-secondary mt-1">Controlo do Espaço Aéreo</p>
                        <span class="tooltiptext">Departamento de Controle do Espaço Aéreo. Coordenamos nossos voos para garantir total integração e segurança no espaço aéreo brasileiro.</span>
                    </div>
                    <div class="authority-logo-container hidden-on-load fade-in fade-in-delay-2 tooltip">
                        <p class="font-logo text-2xl">ISO 9001</p>
                        <p class="text-xs text-text-secondary mt-1">Gestão da Qualidade</p>
                        <span class="tooltiptext">Um padrão internacional para a qualidade dos nossos processos, garantindo um serviço consistente, confiável e focado na sua satisfação.</span>
                    </div>
                    <div class="authority-logo-container hidden-on-load fade-in-delay-3 tooltip">
                        <p class="font-logo text-2xl">ISO 18788</p>
                        <p class="text-xs text-text-secondary mt-1">Operações de Segurança</p>
                        <span class="tooltiptext">Padrão específico para operações de segurança privada. Certifica nosso profissionalismo, gestão de riscos e respeito aos direitos humanos.</span>
                    </div>
                    <div class="authority-logo-container hidden-on-load fade-in-delay-4 tooltip">
                        <p class="font-logo text-2xl">ISO 27001</p>
                        <p class="text-xs text-text-secondary mt-1">Segurança da Informação</p>
                        <span class="tooltiptext">Garante que seus dados e imagens coletadas são gerenciados com o mais alto nível de cibersegurança e confidencialidade.</span>
                    </div>
                    <div class="authority-logo-container hidden-on-load fade-in-delay-5 tooltip">
                        <p class="font-logo text-2xl">LGPD</p>
                        <p class="text-xs text-text-secondary mt-1">Proteção de Dados</p>
                        <span class="tooltiptext">Lei Geral de Proteção de Dados. Seu consentimento é claro, e sua privacidade é protegida em cada etapa da nossa operação.</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- SEÇÃO PLANOS / PREÇOS -->
        <section id="plans" class="py-20 bg-surface">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="font-title text-3xl md:text-4xl text-white">Um Investimento Inteligente na sua Paz de Espírito.</h2>
                    <p class="mt-4 text-lg text-text-secondary max-w-2xl mx-auto">Escolha o plano que melhor se adapta à sua necessidade. Segurança de ponta com um custo-benefício superior aos métodos tradicionais.</p>
                </div>
                <div class="max-w-4xl mx-auto">
                    <!-- Verificador de Cobertura por CEP para Planos -->
                    <div id="plan-coverage-checker" class="max-w-xl mx-auto mb-10 text-center bg-gray-900/50 p-6 rounded-lg border border-brand hidden-on-load fade-in">
                        <h3 class="font-title text-xl text-white mb-4">Verifique a cobertura na sua área</h3>
                        <p class="text-text-secondary mb-4">Para prosseguir com a seleção do plano, por favor, digite seu CEP e verifique a disponibilidade do serviço em sua região.</p>
                        <div class="form-group flex items-center gap-2 mt-4">
                            <input type="tel" id="plan-cep-check" class="form-input" placeholder=" " style="padding: 1.25rem 1rem 0.5rem;">
                            <label for="plan-cep-check" class="form-label">Digite seu CEP</label>
                            <button id="plan-cep-check-btn" class="cta-button bg-brand-blue text-white font-bold py-3 px-6 rounded-lg text-base h-full">Verificar</button>
                        </div>
                        <div id="plan-cep-check-result" class="mt-4 text-center min-h-[24px]"></div>
                    </div>

                    <!-- Grade de Planos -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Plano Flex -->
                        <div class="pricing-option bg-surface rounded-lg p-8 text-center flex flex-col hidden-on-load fade-in disabled-option" data-plan="Plano Flex" data-value="189">
                            <div class="selected-badge top-right">Selecionado</div>
                            <h3 class="font-logo text-xl text-brand-blue mb-2">Plano Flex</h3>
                            <p class="text-text-secondary mb-6 min-h-[3rem]">Ideal para quem procura flexibilidade, sem fidelização.</p>
                            <p class="text-5xl font-bold text-white my-2">R$ 189<span class="text-base font-normal text-text-secondary">/mês</span></p>
                            <div class="flex-grow mt-8">
                                <h4 class="font-bold text-white mb-4">Serviços Essenciais:</h4>
                                <ul class="space-y-4 text-left text-gray-300 mb-6">
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-blue mr-3 icon-hover-effect"></i> Rondas Noturnas Estratégicas</li>
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-blue mr-3 icon-hover-effect"></i> Cobertura Aérea Completa</li>
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-blue mr-3 icon-hover-effect"></i> Alertas em Tempo Real (WhatsApp)</li>
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-blue mr-3 icon-hover-effect"></i> Acionamento da Polícia Militar</li>
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-blue mr-3 icon-hover-effect"></i> Acesso ao Sobrevoo Instantâneo</li>
                                </ul>
                                 <hr class="border-gray-700 my-6">
                                <h4 class="font-bold text-white mb-4">Pilares de Confiança:</h4>
                                <ul class="space-y-4 text-left text-gray-300 text-sm">
                                   <li class="flex items-start tooltip"><i class="fas fa-user-shield text-brand-blue mr-3 mt-1 icon-hover-effect"></i><span>Pilotos Certificados e Treinados<span class="tooltiptext">Nossa equipe é selecionada e treinada de acordo com as diretrizes da ASIS International, garantindo profissionalismo e expertise.</span></span></li>
                                   <li class="flex items-start tooltip"><i class="fas fa-check-double text-brand-blue mr-3 mt-1 icon-hover-effect"></i><span>Conformidade Total ANAC/DECEA<span class="tooltiptext">Operamos 100% legalmente, com todas as autorizações, garantindo a segurança e legalidade dos voos.</span></span></li>
                                   <li class="flex items-start tooltip"><i class="fas fa-stamp text-brand-blue mr-3 mt-1 icon-hover-effect"></i><span>Alinhamento com Normas ISO<span class="tooltiptext">Seguimos os padrões ISO 9001 (Qualidade) e 18788 (Operações de Segurança) para entregar um serviço consistente e excelente.</span></span></li>
                                   <li class="flex items-start tooltip"><i class="fas fa-lock text-brand-blue mr-3 mt-1 icon-hover-effect"></i><span>Privacidade Assegurada (LGPD)<span class="tooltiptext">Seus dados e imagens são tratados com a máxima confidencialidade, de acordo com a LGPD e ISO 27001. Sua privacidade é inegociável.</span></span></li>
                                </ul>
                            </div>
                            <p class="text-xs text-brand-blue mt-6 underline">Clique para selecionar</p>
                        </div>
                        <!-- Plano Anual -->
                        <div class="pricing-option bg-surface rounded-lg p-8 text-center relative flex flex-col hidden-on-load fade-in-delay-1 disabled-option" data-plan="Plano Anual" data-value="149">
                            <div class="popular-badge">MAIS POPULAR</div>
                            <div class="selected-badge top-left">Selecionado</div>
                            <h3 class="font-logo text-xl text-brand-red mb-2 mt-4">Plano Anual</h3>
                            <p class="text-text-secondary mb-6 min-h-[3rem]">A melhor relação custo-benefício com fidelização de 12 meses.</p>
                            <p class="text-5xl font-bold text-white my-2">R$ 149<span class="text-base font-normal text-text-secondary">/mês</span></p>
                            <p class="text-sm text-brand-green font-bold mb-6">Economia Anual de R$ 480,00</p>
                            <div class="flex-grow mt-8">
                                <h4 class="font-bold text-white mb-4">Serviços Essenciais:</h4>
                                 <ul class="space-y-4 text-left text-gray-300 mb-6">
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-red mr-3 icon-hover-effect"></i> Rondas Noturnas Estratégicas</li>
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-red mr-3 icon-hover-effect"></i> Cobertura Aérea Completa</li>
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-red mr-3 icon-hover-effect"></i> Alertas em Tempo Real (WhatsApp)</li>
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-red mr-3 icon-hover-effect"></i> Acionamento da Polícia Militar</li>
                                   <li class="flex items-center"><i class="fas fa-check-circle text-brand-red mr-3 icon-hover-effect"></i> Acesso ao Sobrevoo Instantâneo</li>
                                </ul>
                                <hr class="border-gray-700 my-6">
                                <h4 class="font-bold text-white mb-4">Pilares de Confiança:</h4>
                                <ul class="space-y-4 text-left text-gray-300 text-sm">
                                    <li class="flex items-start tooltip"><i class="fas fa-user-shield text-brand-red mr-3 mt-1 icon-hover-effect"></i><span>Pilotos Certificados e Treinados<span class="tooltiptext">Nossa equipe é selecionada e treinada de acordo com as diretrizes da ASIS International, garantindo profissionalismo e expertise.</span></span></li>
                                    <li class="flex items-start tooltip"><i class="fas fa-check-double text-brand-red mr-3 mt-1 icon-hover-effect"></i><span>Conformidade Total ANAC/DECEA<span class="tooltiptext">Operamos 100% legalmente, com todas as autorizações, garantindo a segurança e legalidade dos voos.</span></span></li>
                                    <li class="flex items-start tooltip"><i class="fas fa-stamp text-brand-red mr-3 mt-1 icon-hover-effect"></i><span>Alinhamento com Normas ISO<span class="tooltiptext">Seguimos os padrões ISO 9001 (Qualidade) e 18788 (Operações de Segurança) para entregar um serviço consistente e excelente.</span></span></li>
                                    <li class="flex items-start tooltip"><i class="fas fa-lock text-brand-red mr-3 mt-1 icon-hover-effect"></i><span>Privacidade Assegurada (LGPD)<span class="tooltiptext">Seus dados e imagens são tratados com a máxima confidencialidade, de acordo com a LGPD e ISO 27001. Sua privacidade é inegociável.</span></span></li>
                                </ul>
                            </div>
                             <p class="text-xs text-brand-blue mt-6 underline">Clique para selecionar</p>
                        </div>
                    </div>
                    <!-- Botão de Ação -->
                    <div class="text-center mt-10">
                        <a href="assinatura.html" id="plan-cta-button" class="cta-button w-full md:w-auto bg-brand-green text-white font-bold py-4 px-10 rounded-lg text-lg inline-block" disabled>
                           ✓ Selecione um plano para prosseguir
                        </a>
                    </div>
                </div>
                 <!-- Calculadora de Vizinhança Segura -->
                <div id="vizinhança-segura-calculator" class="mt-12 bg-surface p-8 rounded-lg border border-brand hidden-on-load fade-in">
                    <div class="text-center">
                        <h4 class="font-title text-xl text-brand-blue mb-2">Calculadora de Benefícios Vizinhança Segura</h4>
                        <p class="text-text-secondary max-w-2xl mx-auto">A união faz a força e aumenta a segurança. Arraste para ver como os benefícios crescem com mais vizinhos.</p>
                    </div>
                    <div class="max-w-md mx-auto mt-8">
                        <label for="neighbor-slider" class="block text-center font-semibold text-white mb-2">
                            Número de Vizinhos (incluindo você): <span id="neighbor-count" class="text-brand-red font-bold text-2xl">1</span>
                        </label>
                        <input type="range" id="neighbor-slider" min="1" max="10" value="1" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-red">
                    </div>
                    <div id="calculator-result" class="mt-6 text-center bg-gray-900/50 p-6 rounded-lg border border-gray-700 min-h-[100px] flex items-center justify-center">
                        <!-- O conteúdo aqui é gerado dinamicamente por JavaScript -->
                    </div>
                    <div class="mt-6 text-center">
                        <button type="button" id="generate-share-btn" class="cta-button bg-brand-blue text-white font-bold py-3 px-6 rounded-lg text-base inline-flex items-center gap-2">
                            <i class="fas fa-share-alt"></i> Gerar Imagem para Vizinhos
                        </button>
                        <p class="text-xs text-text-secondary mt-2">Use esta imagem para apresentar a proposta aos seus vizinhos e formar um escudo de segurança na sua rua!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SEÇÃO B2B -->
        <section id="b2b" class="py-20 bg-color-bg-dark">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="font-title text-3xl md:text-4xl text-white">Inteligência Aérea para o Seu Negócio</h2>
                    <p class="mt-4 text-lg text-text-secondary max-w-3xl mx-auto">Proteja seus ativos, otimize operações e mitigue riscos com a nossa tecnologia de vigilância por drones. Oferecemos soluções customizadas que se traduzem em lucro e segurança para sua empresa.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-surface p-8 rounded-lg border border-brand text-center hidden-on-load fade-in"><i class="fas fa-tractor text-4xl text-brand-green mb-4 icon-hover-effect"></i><h3 class="font-title text-xl mb-2">Agronegócio</h3><p class="text-text-secondary">Monitore vastas áreas, previna o roubo de insumos e maquinário, e controle o seu rebanho com precisão térmica. Segurança que protege a sua colheita e o seu investimento.</p></div>
                    <div class="bg-surface p-8 rounded-lg border border-brand text-center hidden-on-load fade-in-delay-1"><i class="fas fa-industry text-4xl text-brand-green mb-4 icon-hover-effect"></i><h3 class="font-title text-xl mb-2">Indústria & Logística</h3><p class="text-text-secondary">Garanta a segurança perimetral de fábricas e centros de distribuição. Iniba invasões e monitore pátios e estoques de forma eficiente e discreta, 24/7.</p></div>
                    <div class="bg-surface p-8 rounded-lg border border-brand text-center hidden-on-load fade-in-delay-2"><i class="fas fa-hard-hat text-4xl text-brand-green mb-4 icon-hover-effect"></i><h3 class="font-title text-xl mb-2">Construção Civil</h3><p class="text-text-secondary">Proteja seu canteiro de obras contra furtos de materiais e equipamentos. Acompanhe o progresso da obra com imagens de alta resolução e garanta a segurança do seu projeto.</p></div>
                    <div class="bg-surface p-8 rounded-lg border border-brand text-center hidden-on-load fade-in-delay-3"><i class="fas fa-users text-4xl text-brand-green mb-4 icon-hover-effect"></i><h3 class="font-title text-xl mb-2">Eventos</h3><p class="text-text-secondary">Ofereça uma camada extra de segurança para seus convidados. Gestão de multidões, identificação de pontos de congestionamento e apoio tático para a sua equipa de segurança.</p></div>
                </div>
                <div class="text-center mt-12">
                    <a href="#contact" class="cta-button bg-brand-blue text-white font-bold py-4 px-10 rounded-lg text-lg inline-block">Fale com um Especialista B2B</a>
                </div>
            </div>
        </section>

        <!-- SEÇÃO FAQ -->
        <section id="faq" class="py-20 bg-surface">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl">
                <div class="text-center mb-12">
                    <h2 class="font-title text-3xl md:text-4xl text-white">Ainda tem dúvidas?</h2>
                    <p class="mt-4 text-lg text-text-secondary max-w-2xl mx-auto">Encontre aqui as respostas para as perguntas mais comuns sobre nossos serviços.</p>
                </div>

                <!-- Controles FAQ -->
                <div class="mb-10">
                    <div class="relative mb-6">
                        <input type="text" id="faq-search-input" class="w-full bg-color-bg-dark border-2 border-brand focus:border-brand-blue focus:ring-0 rounded-lg py-3 px-5 text-white placeholder-text-secondary" placeholder="Pesquisar por palavra-chave...">
                        <i class="fas fa-search absolute right-5 top-1/2 -translate-y-1/2 text-text-secondary"></i>
                    </div>
                    <div class="flex flex-wrap justify-center gap-2 md:gap-4">
                        <button class="faq-category-btn font-semibold py-2 px-5 bg-surface border-2 border-brand rounded-lg" data-category="all">Todos</button>
                        <button class="faq-category-btn active font-semibold py-2 px-5 bg-surface border-2 border-brand rounded-lg" data-category="servico">Sobre o Serviço</button>
                        <button class="faq-category-btn font-semibold py-2 px-5 bg-surface border-2 border-brand rounded-lg" data-category="tecnico">Técnico e Legal</button>
                        <button class="faq-category-btn font-semibold py-2 px-5 bg-surface border-2 border-brand rounded-lg" data-category="planos">Planos e Contrato</button>
                        <button class="faq-category-btn font-semibold py-2 px-5 bg-surface border-2 border-brand rounded-lg" data-category="b2b">Negócios</button>
                    </div>
                </div>

                <!-- Lista de FAQ (Acordeão) -->
                <div id="faq-list" class="space-y-4">
                    <!-- Itens do FAQ são inseridos aqui, mantendo a estrutura original -->
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="servico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">Como funcionam as rondas noturnas?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Garantimos um mínimo de 3 rondas aéreas por noite sobre o perímetro da sua propriedade. Este número aumenta progressivamente conforme mais vizinhos aderem ao nosso escudo de segurança na sua rua, potencializando a vigilância. Os horários são sempre variados para manter a imprevisibilidade, um fator-chave na prevenção de crimes.</p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="servico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">Quem pilota os drones? São totalmente autônomos?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Não são totalmente autônomos. Acreditamos na fusão da tecnologia com a inteligência humana, o "elemento humano no loop". Cada voo, mesmo em rotas pré-definidas, é supervisionado ativamente por um piloto profissional treinado. Ele é um analista de segurança qualificado, capaz de interpretar anomalias e tomar decisões críticas em tempo real, garantindo uma vigilância muito mais eficaz.</p>
                        </div>
                    </div>
                     <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="servico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">O que acontece se uma atividade suspeita for detectada?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Nosso piloto analisa a situação em tempo real. Você é notificado instantaneamente via WhatsApp com a imagem e localização. Se a situação for classificada como um alerta de <strong>Nível 2 (Risco Confirmado)</strong>, como uma invasão, acionamos a Polícia Militar (190) imediatamente. Fornecemos todas as informações para uma resposta rápida, enquanto o drone continua a monitorar a situação a uma distância segura, agindo como nossos olhos no céu para as autoridades.</p>
                        </div>
                    </div>
                     <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="servico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">Quais são os níveis de alerta que posso receber?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Temos dois níveis. <strong>NÍVEL 1 (Observação):</strong> Para situações atípicas, como um veículo suspeito. Você recebe uma foto e a localização, e intensificamos a vigilância. <strong>NÍVEL 2 (Risco Confirmado):</strong> Para uma ameaça clara, como uma invasão. Você recebe um alerta urgente e acionamos a Polícia Militar IMEDIATAMENTE. A prioridade é sempre sua segurança: não se exponha.</p>
                        </div>
                    </div>
                     <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="servico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">O que a Guarddrone NÃO é?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">É importante entender que somos um serviço de vigilância, prevenção e alerta (serviço de meio), não um serviço de pronta-resposta física ou uma garantia contra todos os incidentes (serviço de resultado). Nossa função é dissuadir ameaças, detectar anomalias, fornecer inteligência em tempo real para você e para a polícia. A ação física de intervenção cabe exclusivamente às autoridades policiais. A sua segurança pessoal é a prioridade, por isso nossa recomendação é sempre: <strong>não se exponha.</strong></p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="tecnico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">Os drones fazem muito barulho? Vou conseguir dormir?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Não. Utilizamos drones modernos de baixo ruído que operam a uma altitude planejada para serem praticamente inaudíveis do solo. A sua tranquilidade e a de seus vizinhos é uma prioridade. Você poderá notar as luzes de navegação no céu, o sinal visível de que estamos protegendo você, mas sem perturbação sonora.</p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="tecnico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">E a minha privacidade e a dos meus vizinhos?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Sua privacidade é inegociável. Operamos em estrita conformidade com a LGPD. Os voos focam no perímetro do imóvel do cliente, não na vida privada. As câmeras são usadas para detectar ameaças de segurança, não para observar pessoas. As imagens são tratadas com o máximo sigilo (padrão ISO 27001) e descartadas de forma segura após este período.</p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="tecnico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">O serviço funciona com chuva ou vento forte?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">A segurança do voo é nossa prioridade absoluta. Nossos drones podem operar sob certas condições de chuva leve e vento. No entanto, em condições meteorológicas adversas que coloquem a operação em risco (chuva forte, ventos acima do limite), os voos são temporariamente suspensos, seguindo rigorosos protocolos de segurança (POP-GD-001). A continuidade do serviço a longo prazo depende de uma operação segura.</p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="tecnico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">O serviço da Guarddrone é legalizado?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Sim, 100% legalizado e em conformidade. Operamos com todas as autorizações da ANAC (Agência Nacional de Aviação Civil) e do DECEA (Departamento de Controle do Espaço Aéreo). Nossas aeronaves são registradas, nossos pilotos são certificados e possuímos seguro de responsabilidade civil (RETA). Além disso, nossos processos são alinhados a normas internacionais de qualidade e segurança como a ISO 9001 e ISO 18788.</p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="tecnico">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">E se um drone cair? Vocês têm seguro?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Sim. A segurança é nossa prioridade máxima e nossos pilotos são altamente treinados para evitar qualquer incidente. No entanto, operamos com total responsabilidade e possuímos o seguro RETA (Responsabilidade do Explorador ou Transportador Aéreo), que é obrigatório e cobre danos a terceiros, garantindo tranquilidade para nossos clientes e para a comunidade.</p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="planos">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">Como funciona a "Vizinhança Segura"?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">É um benefício que incentiva a segurança coletiva. Se 5 ou mais vizinhos na mesma quadra contratam o serviço, todos garantem o valor do Plano Anual (R$ 149/mês), mas sem a necessidade de fidelização de 12 meses. Isso não apenas torna o serviço mais acessível para todos, mas também aumenta drasticamente a frequência de patrulhas na sua rua, criando um escudo de segurança mais forte.</p>
                        </div>
                    </div>
                     <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="planos">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">O que é o "Pedido de Sobrevoo Instantâneo"?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">É um recurso incluso em todos os planos. Se você ouvir um barulho estranho ou notar algo suspeito e quiser uma verificação aérea imediata, pode solicitar um sobrevoo através do nosso canal de suporte. Sujeito à disponibilidade operacional e condições climáticas, uma aeronave será direcionada para sua localização para uma verificação rápida.</p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="planos">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">O que acontece se eu atrasar o pagamento?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">O não pagamento na data de vencimento sujeitará a multa de 2% sobre o valor devido, mais juros. Atrasos superiores a 15 dias podem levar à suspensão dos serviços, e atrasos acima de 30 dias podem ocasionar o cancelamento do contrato. Manter o pagamento em dia é essencial para garantir sua proteção contínua.</p>
                        </div>
                    </div>
                     <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="b2b">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">A Guarddrone oferece serviços para empresas e agronegócio?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Sim. Oferecemos soluções customizadas para diversos setores. Para o agronegócio, monitoramos vastas áreas para prevenir roubo de insumos, maquinário e gado. Para indústrias e logística, garantimos a segurança perimetral de fábricas e pátios. Também oferecemos proteção para canteiros de obras e suporte aéreo para a gestão de segurança em eventos. Entre em contato com um especialista para uma proposta personalizada.</p>
                        </div>
                    </div>
                    <div class="bg-color-bg-dark border border-brand p-4 rounded-lg faq-item" data-category="b2b">
                        <button class="w-full flex justify-between items-center text-left faq-question-btn">
                            <h4 class="font-semibold text-lg text-white">Para o agronegócio, que tipo de ameaça o drone pode detectar?</h4>
                            <i class="fas fa-chevron-down transition-transform duration-300 faq-question-icon text-brand-red"></i>
                        </button>
                        <div class="faq-answer">
                            <p class="text-text-secondary">Nossos drones, especialmente os com câmeras térmicas, são eficazes para detectar a presença de pessoas ou veículos em áreas rurais durante a noite, prevenindo o roubo de insumos, maquinário e gado (abigeato). Também podem ser usados para verificar cercas, localizar animais perdidos e ter uma visão geral da propriedade que seria impossível com rondas terrestres.</p>
                        </div>
                    </div>
                    <!-- Mensagem "Sem resultados" -->
                    <div id="faq-no-results" class="text-center text-text-secondary py-6 hidden">
                        <i class="fas fa-search text-3xl mb-4"></i>
                        <p class="font-semibold">Nenhuma pergunta encontrada.</p>
                        <p class="text-sm">Tente uma pesquisa diferente ou selecione outra categoria.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SEÇÃO DE CONTATO -->
        <section id="contact" class="py-20 bg-color-bg-dark">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="font-title text-3xl md:text-4xl text-white">Pronto para ter noites de sono tranquilas?</h2>
                    <p class="mt-4 text-lg text-text-secondary max-w-2xl mx-auto">Preencha os seus dados para receber um contato personalizado de um especialista da sua região.</p>
                </div>

                <!-- Verificador de Cobertura por CEP -->
                <div id="coverage-checker" class="max-w-xl mx-auto mb-8 text-center">
                    <h3 class="font-title text-xl text-white">Primeiro, vamos ver se já estamos na sua área!</h3>
                    <div class="form-group flex items-center gap-2 mt-4">
                        <input type="tel" id="cep-check" class="form-input" placeholder=" " style="padding: 1.25rem 1rem 0.5rem;">
                        <label for="cep-check" class="form-label">Digite seu CEP</label>
                        <button id="cep-check-btn" class="cta-button bg-brand-blue text-white font-bold py-3 px-6 rounded-lg text-base h-full">Verificar</button>
                    </div>
                    <div id="cep-check-result" class="mt-4 text-center min-h-[24px]"></div>
                </div>

                <!-- Formulário de Contato -->
                <div class="max-w-xl mx-auto bg-surface p-8 rounded-lg border border-brand">
                    <form id="contact-form" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="form-group"><select id="state-selector" name="state" class="form-select" required><option value="" disabled selected>Selecione o Estado</option><option value="sc">Santa Catarina</option><option value="pr">Paraná</option></select></div>
                            <div class="form-group"><select id="city-selector" name="city" class="form-select" required disabled><option value="" disabled selected>Selecione a Cidade</option></select></div>
                        </div>
                        <div class="form-group"><input type="text" name="name" id="name" required class="form-input" placeholder=" "><label for="name" class="form-label">Nome Completo</label><span class="feedback-icon"><i class="fas fa-check-circle text-brand-green"></i></span></div>
                        <div class="form-group"><input type="email" name="email" id="email" required class="form-input" placeholder=" "><label for="email" class="form-label">Melhor E-mail</label><span class="feedback-icon"><i class="fas fa-check-circle text-brand-green"></i></span></div>
                        <div class="form-group"><input type="tel" name="phone" id="phone" required class="form-input" placeholder=" "><label for="phone" class="form-label">Telefone com WhatsApp</label><span class="feedback-icon"><i class="fas fa-check-circle text-brand-green"></i></span></div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                           <div class="md:col-span-2 form-group">
                               <input type="text" id="street" name="street" class="form-input" placeholder=" " required>
                               <label for="street" class="form-label">Rua / Avenida</label>
                           </div>
                           <div class="form-group">
                               <input type="text" id="number" name="number" class="form-input" placeholder=" " required>
                               <label for="number" class="form-label">Número</label>
                           </div>
                        </div>
                        <div class="form-group">
                           <input type="text" id="neighborhood" name="neighborhood" class="form-input" placeholder=" " required>
                           <label for="neighborhood" class="form-label">Bairro</label>
                        </div>
                        <input type="hidden" name="plano_selecionado_whatsapp" id="plano_selecionado_whatsapp">

                        <div class="text-center pt-4"><button type="button" id="whatsapp-contact-btn" class="cta-button w-full bg-brand-green text-white font-bold py-4 px-10 rounded-lg text-lg flex items-center justify-center"><i class="fab fa-whatsapp mr-3"></i> Contatar Especialista via WhatsApp</button></div>
                    </form>
                </div>
             </div>
        </section>
    </main>

    <!-- ==========================================================================
       RODAPÉ
       ========================================================================== -->
    <footer class="bg-color-bg-dark border-t border-brand">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                <div>
                    <div class="inline-block bg-brand-red px-4 py-1.5 mb-4 shadow-lg"><h3 class="font-brand-logo text-xl text-white">GUARDDRONE</h3></div>
                    <p class="text-text-secondary text-sm">A vanguarda da segurança. Oferecemos tranquilidade através de tecnologia de ponta, profissionalismo e uma operação focada na prevenção.</p>
                </div>
                <div>
                    <h4 class="font-title text-white mb-4">Navegação</h4>
                    <ul class="space-y-2">
                        <li><a href="#how-it-works" class="text-text-secondary hover:text-white transition-colors duration-300 text-sm">Como Funciona</a></li>
                        <li><a href="#fleet" class="text-text-secondary hover:text-white transition-colors duration-300 text-sm">Nossa Frota</a></li>
                        <li><a href="#service" class="text-text-secondary hover:text-white transition-colors duration-300 text-sm">O Serviço</a></li>
                        <li><a href="#plans" class="text-text-secondary hover:text-white transition-colors duration-300 text-sm">Planos</a></li>
                        <li><a href="#faq" class="text-text-secondary hover:text-white transition-colors duration-300 text-sm">Dúvidas</a></li>
                        <li><a href="#compliance" class="text-text-secondary hover:text-white transition-colors duration-300 text-sm">Conformidade</a></li>
                    </ul>
                </div>
                 <div>
                    <h4 class="font-title text-white mb-4">Contacto Oficial</h4>
                    <address class="text-text-secondary text-sm not-italic space-y-2">
                        <p><strong>Empresa:</strong> GUARDDRONE TECNOLOGIA EM SEGURANÇA LTDA.</p>
                        <p><strong>Email:</strong> contato@guarddrone.com.br</p>
                    </address>
                </div>
            </div>
            <div class="mt-12 border-t border-brand pt-8 text-center text-gray-500 text-sm"><p>&copy; 2024 Guarddrone. Todos os direitos reservados.</p></div>
        </div>
    </footer>

    <!-- Botão Flutuante do WhatsApp -->
    <a href="#contact" class="botao-flutuante"><i class="fab fa-whatsapp"></i></a>

    <!-- Modal para compartilhamento da calculadora de vizinhança -->
    <div id="shareModal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="closeModalBtn" class="modal-close-btn">&times;</button>
            <div id="modalBody" class="p-4">
                <!-- O conteúdo é injetado aqui por JavaScript -->
            </div>
        </div>
    </div>

    <!-- ==========================================================================
       JAVASCRIPT
       ========================================================================== -->
    <script type="module">
        /**
         * @module Utils
         * @description Módulo de funções utilitárias compartilhadas entre as páginas.
         */
        const Utils = {
            /**
             * @method maskPhone
             * @description Aplica uma máscara de telefone (xx) xxxxx-xxxx a um valor de entrada.
             * @param {string} value - O valor a ser mascarado.
             * @returns {string} O valor com a máscara aplicada.
             */
            maskPhone(value) {
                return value
                    .replace(/\D/g, '')
                    .replace(/(\d{2})(\d)/, '($1) $2')
                    .replace(/(\d{5})(\d)/, '$1-$2')
                    .substring(0, 15);
            },

            /**
             * @method maskCep
             * @description Aplica uma máscara de CEP (xxxxx-xxx).
             * @param {string} value - O valor a ser mascarado.
             * @returns {string} O valor com a máscara aplicada.
             */
            maskCep(value) {
                return value.replace(/\D/g, '').replace(/(\d{5})(\d)/, '$1-$2').substring(0, 9);
            },

            /**
             * @method validateInput
             * @description Valida um campo de formulário individualmente com base em seu tipo e valor.
             * Aplica a classe 'invalid' e mostra/esconde um ícone de feedback.
             * @param {HTMLInputElement|HTMLSelectElement} input - O elemento do formulário a ser validado.
             * @returns {boolean} `true` se o campo for válido, `false` caso contrário.
             */
            validateInput(input) {
                let isValid = false;
                const value = input.value;
                switch(input.type) {
                    case 'email':
                        isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
                        break;
                    case 'tel': // Para telefone mascarado e CEP
                        if (input.id === 'phone' || input.id === 'whatsapp1') {
                            isValid = value.replace(/\D/g, '').length >= 10;
                        } else if (input.id === 'cep-check' || input.id === 'plan-cep-check' || input.id === 'zipcode') {
                            isValid = value.replace(/\D/g, '').length === 8;
                        } else {
                            isValid = value.trim() !== '';
                        }
                        break;
                    case 'select-one':
                        isValid = value !== '';
                        break;
                    case 'text': // Padrão para campos de texto (nome, rua, bairro, cidade, estado)
                        isValid = value.trim() !== '';
                        break;
                    default:
                        isValid = value.trim() !== '';
                        break;
                }

                // Garante que o rótulo flutuante seja ativado/desativado corretamente
                const label = input.parentElement.querySelector('.form-label');
                if (label) {
                    label.classList.toggle('active-label', value.trim() !== '');
                }

                // Mostra/esconde o ícone de feedback de validação
                const feedbackIcon = input.parentElement.querySelector('.feedback-icon');
                if (feedbackIcon) {
                    feedbackIcon.classList.toggle('visible', isValid && value.trim() !== '');
                    feedbackIcon.innerHTML = isValid && value.trim() !== '' ? '<i class="fas fa-check-circle text-brand-green"></i>' : ''; // Limpa o ícone inválido se válido
                }
                input.classList.toggle('invalid', !isValid && value.trim() !== ''); // Apenas marca como inválido se não estiver vazio
                return isValid;
            },

            /**
             * @method setupCanvasAnimation
             * @description Configura e renderiza a animação de partículas no canvas de fundo da seção hero.
             * @param {HTMLCanvasElement} canvas - O elemento canvas para a animação.
             * @param {string} particleColor - A cor base das partículas (ex: "rgba(218, 41, 28, {opacity})").
             */
            setupCanvasAnimation(canvas, particleColor = 'rgba(218, 41, 28, {opacity})') {
                if (!canvas) return;

                const ctx = canvas.getContext('2d');
                let particles = [];
                const mouse = { x: null, y: null, radius: 100 };

                const resizeCanvas = () => {
                    canvas.width = canvas.parentElement.offsetWidth;
                    canvas.height = canvas.parentElement.offsetHeight;
                };

                canvas.addEventListener('mousemove', e => {
                    const rect = canvas.getBoundingClientRect();
                    mouse.x = e.clientX - rect.left;
                    mouse.y = e.clientY - rect.top;
                });
                canvas.addEventListener('mouseleave', () => { mouse.x = null; mouse.y = null; });

                class Particle {
                    constructor() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.size = Math.random() * 2.5 + 1;
                        this.speedX = (Math.random() * 0.4 - 0.2);
                        this.speedY = (Math.random() * 0.4 - 0.2);
                        this.color = particleColor.replace('{opacity}', `${Math.random() * 0.6 + 0.2}`);
                    }
                    update() {
                        // Interação do mouse
                        if(mouse.x !== null) {
                            const dx = this.x - mouse.x;
                            const dy = this.y - mouse.y;
                            const distance = Math.sqrt(dx * dx + dy * dy);
                            if (distance < mouse.radius) {
                                const forceDirectionX = dx / distance;
                                const forceDirectionY = dy / distance;
                                const force = (mouse.radius - distance) / mouse.radius;
                                this.x += forceDirectionX * force * 1;
                                this.y += forceDirectionY * force * 1;
                            }
                        }
                        // Movimento e colisão com a fronteira
                        this.x += this.speedX;
                        this.y += this.speedY;
                        if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                        if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
                    }
                    draw() {
                        ctx.fillStyle = this.color;
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }

                const initParticles = () => {
                    particles = [];
                    let numberOfParticles = (canvas.width * canvas.height) / 12000;
                    for (let i = 0; i < numberOfParticles; i++) particles.push(new Particle());
                };

                const animate = () => {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    particles.forEach(p => { p.update(); p.draw(); });
                    requestAnimationFrame(animate);
                };

                window.addEventListener('resize', () => { resizeCanvas(); initParticles(); });
                resizeCanvas();
                initParticles();
                animate();
            },

            /**
             * @method setupIntersectionObserver
             * @description Configura a API Intersection Observer para aplicar animações "fade-in" quando
             * os elementos entram na viewport.
             */
            setupIntersectionObserver() {
                const observer = new IntersectionObserver((entries, observerInstance) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.remove('hidden-on-load');
                            observerInstance.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });
                document.querySelectorAll('.hidden-on-load').forEach(el => observer.observe(el));
            },

            /**
             * @method openModal
             * @description Abre um modal genérico.
             * @param {HTMLElement} modalElement - O elemento HTML do modal.
             * @param {HTMLElement} modalBodyElement - O elemento onde o conteúdo do modal será injetado.
             * @param {string} contentHTML - O HTML a ser injetado no corpo do modal.
             */
            openModal(modalElement, modalBodyElement, contentHTML) {
                modalBodyElement.innerHTML = contentHTML;
                modalElement.classList.remove('hidden');
                modalElement.classList.add('visible');
            },

            /**
             * @method closeModal
             * @description Fecha um modal genérico com animação.
             * @param {HTMLElement} modalElement - O elemento HTML do modal.
             */
            closeModal(modalElement) {
                modalElement.classList.remove('visible');
                setTimeout(() => modalElement.classList.add('hidden'), 300);
            }
        };

        /**
         * @class TypingEffect
         * @description Gerencia o efeito de digitação em um elemento HTML.
         */
        class TypingEffect {
            constructor(element, words) {
                this.element = element;
                this.words = words;
                this.wordIndex = 0;
                this.charIndex = 0;
                this.isDeleting = false;
                this.type();
            }

            type() {
                const currentWord = this.words[this.wordIndex];
                let typeSpeed = 150;

                if (this.isDeleting) {
                    this.element.textContent = currentWord.substring(0, this.charIndex - 1);
                    this.charIndex--;
                    typeSpeed = 100;
                } else {
                    this.element.textContent = currentWord.substring(0, this.charIndex + 1);
                    this.charIndex++;
                }

                if (!this.isDeleting && this.charIndex === currentWord.length) {
                    typeSpeed = 2000;
                    this.isDeleting = true;
                } else if (this.isDeleting && this.charIndex === 0) {
                    this.isDeleting = false;
                    this.wordIndex = (this.wordIndex + 1) % this.words.length;
                    typeSpeed = 500;
                }
                setTimeout(() => this.type(), typeSpeed);
            }
        }

        /**
         * @class FAQManager
         * @description Gerencia a funcionalidade de FAQ, incluindo pesquisa e filtragem de categorias.
         */
        class FAQManager {
            constructor(elements) {
                this.elements = elements;
                this.addEventListeners();
                this.filterFAQ(); // Filtro inicial ao carregar
            }

            addEventListeners() {
                this.elements.faqList.addEventListener('click', (e) => this.handleAccordionClick(e));
                this.elements.faqSearchInput.addEventListener('input', () => this.filterFAQ());
                this.elements.faqCategoryBtns.forEach(btn => {
                    btn.addEventListener('click', () => this.handleCategoryClick(btn));
                });
            }

            handleAccordionClick(e) {
                const questionBtn = e.target.closest('.faq-question-btn');
                if (questionBtn) {
                    const faqItem = questionBtn.closest('.faq-item');
                    faqItem.classList.toggle('open');
                }
            }

            handleCategoryClick(btn) {
                this.elements.faqCategoryBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                this.filterFAQ();
            }

            filterFAQ() {
                const searchTerm = this.elements.faqSearchInput.value.toLowerCase().trim();
                const activeCategoryEl = document.querySelector('.faq-category-btn.active');
                if (!activeCategoryEl) return;

                const activeCategory = activeCategoryEl.dataset.category;
                let hasVisibleItems = false;

                this.elements.faqItems.forEach(item => {
                    const itemCategory = item.dataset.category;
                    const questionText = item.querySelector('h4').textContent.toLowerCase();
                    const answerText = item.querySelector('.faq-answer p').textContent.toLowerCase();

                    const categoryMatch = activeCategory === 'all' || itemCategory === activeCategory;
                    const searchMatch = !searchTerm || questionText.includes(searchTerm) || answerText.includes(searchTerm);

                    if (categoryMatch && searchMatch) {
                        item.classList.remove('hidden');
                        hasVisibleItems = true;
                    } else {
                        item.classList.add('hidden');
                    }
                });

                this.elements.faqNoResults.classList.toggle('hidden', hasVisibleItems);
            }
        }

        /**
         * @class CoverageChecker
         * @description Gerencia a verificação de cobertura de CEP e preenchimento de formulários.
         */
        class CoverageChecker {
            constructor(config) {
                this.config = config;
            }

            /**
             * @method check
             * @description Lida com a verificação de cobertura via API ViaCEP e executa callbacks.
             * @param {HTMLInputElement} cepInput - O elemento de entrada do CEP.
             * @param {HTMLElement} resultDiv - O elemento div para exibir o resultado.
             * @param {Function} successCallback - Callback executado se o CEP for coberto. Recebe (data, city, state).
             * @param {Function} failCallback - Callback executado se o CEP não for coberto. Recebe (data, city, state).
             * @returns {Promise<void>}
             */
            async check(cepInput, resultDiv, successCallback, failCallback) {
                const cep = cepInput.value.replace(/\D/g, '');

                if (cep.length !== 8) {
                    resultDiv.innerHTML = `<p class="text-brand-red">Por favor, digite um CEP válido.</p>`;
                    failCallback && failCallback(null, null, null);
                    return;
                }

                resultDiv.innerHTML = `<p class="text-text-secondary"><i class="fas fa-spinner fa-spin mr-2"></i>Verificando...</p>`;

                try {
                    const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                    if (!response.ok) throw new Error(`Erro na resposta da API: ${response.statusText}`);
                    const data = await response.json();

                    if (data.erro) {
                        resultDiv.innerHTML = `<p class="text-brand-red font-bold"><i class="fas fa-exclamation-triangle mr-2"></i>O CEP digitado não foi encontrado.</p>`;
                        failCallback && failCallback(data, null, null);
                        return;
                    }

                    const city = data.localidade;
                    const state = data.uf.toLowerCase();
                    const availableCities = this.config.citiesByState[state] || [];

                    if (availableCities.includes(city)) {
                        let locationDisplay = '';
                        if (data.logradouro) {
                            locationDisplay = `a ${data.logradouro} de ${data.localidade}`;
                        } else {
                            locationDisplay = `a cidade de ${data.localidade}`;
                        }
                        resultDiv.innerHTML = `<p class="text-brand-green font-bold"><i class="fas fa-check-circle mr-2"></i>Ótima notícia! Atendemos ${locationDisplay}.</p>`;
                        successCallback && successCallback(data, city, state);
                    } else {
                        resultDiv.innerHTML = `<p class="text-brand-red font-bold"><i class="fas fa-times-circle mr-2"></i>Ainda não chegamos em ${city}, mas estamos expandindo!</p>`;
                        failCallback && failCallback(data, city, state);
                    }
                } catch (error) {
                    resultDiv.innerHTML = `<p class="text-brand-red">Não foi possível verificar o CEP. Tente novamente.</p>`;
                    console.error("Erro na verificação de CEP:", error);
                    failCallback && failCallback(null, null, null);
                }
            }
        }

        /**
         * @class NeighborhoodCalculator
         * @description Gerencia a calculadora de benefícios da vizinhança.
         */
        class NeighborhoodCalculator {
            constructor(elements) {
                this.elements = elements;
                this.annualPlanValue = 149;
                this.flexPlanValue = 189;
                this.addEventListeners();
                this.updateCalculator(); // Chamada inicial
            }

            addEventListeners() {
                this.elements.neighborSlider.addEventListener('input', () => this.updateCalculator());
            }

            updateCalculator() {
                const count = parseInt(this.elements.neighborSlider.value, 10);
                this.elements.neighborCount.textContent = count;
                let passes;
                let resultHTML = '';

                if (count >= 5) {
                    passes = Math.max(5, 5 + (count - 5)); // 5 passagens mínimas, +1 por vizinho acima de 5
                    resultHTML = `
                        <div class="text-brand-green">
                            <i class="fas fa-shield-alt text-2xl mb-2"></i>
                            <p class="font-bold text-lg">Nível Máximo de Segurança Ativado!</p>
                            <p>Todos os <strong class="text-white">${count}</strong> vizinhos garantem o valor do Plano Anual (<strong class="text-white">R$ ${this.annualPlanValue},00/mês</strong>) <strong>sem a fidelidade de 12 meses!</strong></p>
                            <p>Sua rua receberá incríveis <strong class="text-white">${passes}</strong> passagens de drone por noite!</p>
                        </div>`;
                } else {
                    passes = 3; // Padrão de 3 passagens para menos de 5 vizinhos
                    resultHTML = `
                        <div class="text-brand-blue">
                            <p class="font-bold">A segurança já aumentou!</p>
                            <p>Com <strong class="text-white">${count}</strong> casa(s) no grupo, sua rua terá um total de <strong class="text-white">${passes}</strong> passagens do drone por noite, por <strong class="text-white">R$ ${this.flexPlanValue.toFixed(2).replace('.',',')}</strong> mensais.</p>
                            <p class="text-xs mt-2">Junte 5 ou mais vizinhos para desbloquear ainda mais benefícios!</p>
                        </div>`;
                }
                this.elements.calculatorResult.innerHTML = resultHTML;
            }

            /**
             * @method getShareModalContent
             * @description Retorna o HTML para o conteúdo do modal de compartilhamento.
             * @returns {string} HTML do conteúdo do modal.
             */
            getShareModalContent() {
                const count = parseInt(this.elements.neighborSlider.value, 10);
                let passes;
                let price;

                if (count >= 5) {
                    passes = Math.max(5, 5 + (count - 5));
                    price = this.annualPlanValue;
                } else {
                    passes = 3;
                    price = this.flexPlanValue;
                }

                return `
                    <div class="text-center p-2">
                        <h2 class="font-brand-logo text-2xl text-brand-red uppercase">GUARDDRONE</h2>
                        <h3 class="font-title text-lg mt-2 mb-4 text-brand-blue">Convite para uma Vizinhança mais Segura</h3>
                    </div>
                    <div class="bg-surface p-4 rounded-lg text-center my-4 border border-brand">
                        <p class="font-bold text-text-primary">SIMULAÇÃO PARA NOSSA RUA: ${count} CASA(S)</p>
                        <div class="flex justify-center items-center space-x-2 my-3">
                            ${[...Array(count)].map((_, i) => `<i class="fas fa-home text-2xl text-text-secondary house-icon" style="animation-delay: ${i * 100}ms"></i>`).join('')}
                        </div>
                        <div class="border-t border-dashed border-gray-700 my-2"></div>
                        <p class="font-bold text-lg text-brand-green">RESULTADO: PROTEÇÃO COLETIVA!</p>
                        <p class="text-sm text-text-secondary mt-1">Com a união de <strong>${count} casa(s)</strong>, nossa rua terá um total de <strong>${passes} rondas</strong> por noite, por <strong>R$ ${price.toFixed(2).replace('.',',')}</strong> mensais cada.</p>
                    </div>
                    <div class="mt-6 text-left text-sm space-y-3 text-text-secondary">
                        <div class="flex items-start"><span class="benefit-icon" style="--color: var(--color-blue);">🛡️</span><div class="ml-3"><strong>Mais Segurança:</strong> Aumentamos drasticamente a vigilância na nossa rua, dissuadindo ameaças.</div></div>
                        <div class="flex items-start"><span class="benefit-icon" style="--color: var(--color-green);">💰</span><div class="ml-3"><strong>Mais Economia:</strong> O valor fica muito mais acessível para todos.</div></div>
                        <div class="flex items-start"><span class="benefit-icon" style="--color: var(--color-blue);">👀</span><div class="ml-3"><strong>Cobertura Total:</strong> Drones cobrem todo o perímetro das casas, sem pontos cegos.</div></div>
                    </div>
                    <div class="mt-6 pt-4 border-t border-brand text-xs text-center text-text-secondary"><p>Tire um print e compartilhe com os vizinhos!</p></div>`;
            }
        }

        /**
         * @class MainPageApp
         * @description Módulo principal que encapsula toda a lógica de interatividade e animação para a página inicial da Guarddrone.
         */
        class MainPageApp {
            //----------------------------------------------------------------------
            // 1. ESTADO E CONFIGURAÇÕES
            //----------------------------------------------------------------------

            /** @property {object} state - Armazena o estado dinâmico da aplicação. */
            state = {
                selectedPlanData: null, 
                isAreaCoveredForPlans: false, 
                planAddressData: { 
                    cep: '',
                    logradouro: '',
                    bairro: '',
                    localidade: '',
                    uf: ''
                },
                isUpdatingCepField: false,
            };

            /** @property {object} config - Configurações estáticas e constantes para a aplicação. */
            config = {
                whatsappNumber: '554731705449',
                citiesByState: {
                    sc: ['Brusque', 'Tubarão', 'Lages', 'São Bento do Sul', 'Caçador', 'Concórdia', 'Canoinhas', 'Itajaí'],
                    pr: ['Umuarama', 'Campo Mourão', 'Paranavaí', 'Cianorte', 'Francisco Beltrão', 'Pato Branco']
                },
                typingEffectWords: ['tranquilidade', 'segurança', 'paz']
            };

            /** @property {object} elements - Cache de elementos DOM para acesso otimizado. */
            elements = {};

            //----------------------------------------------------------------------
            // 2. MÉTODOS DE INICIALIZAÇÃO E CONFIGURAÇÃO
            //----------------------------------------------------------------------

            /**
             * @method init
             * @description Ponto de entrada da aplicação. Chama todos os métodos de configuração.
             */
            init() {
                this.cacheDOMElements();
                this.initializeModules();
                this.addEventListeners();
                this.updatePlanSectionUI(this.state.isAreaCoveredForPlans);
            }

            /**
             * @method cacheDOMElements
             * @description Seleciona e armazena referências para os elementos DOM mais usados para evitar seleções repetidas.
             */
            cacheDOMElements() {
                this.elements = {
                    // Hero e Animações
                    heroCanvas: document.getElementById('hero-canvas'),
                    typingElement: document.getElementById('typing-effect'),

                    // Seções e Cartões
                    droneCards: document.querySelectorAll('.drone-card'),
                    pricingOptions: document.querySelectorAll('.pricing-option'),

                    // Botões de Ação
                    planCtaButton: document.getElementById('plan-cta-button'),
                    whatsappContactBtn: document.getElementById('whatsapp-contact-btn'),
                    generateShareBtn: document.getElementById('generate-share-btn'),

                    // Formulário de Contato
                    contactFormInputs: document.querySelectorAll('#contact-form [required]'),
                    stateSelector: document.getElementById('state-selector'),
                    citySelector: document.getElementById('city-selector'),
                    nameInput: document.getElementById('name'),
                    emailInput: document.getElementById('email'),
                    phoneInput: document.getElementById('phone'),
                    streetInput: document.getElementById('street'),
                    numberInput: document.getElementById('number'),
                    neighborhoodInput: document.getElementById('neighborhood'),
                    planoSelecionadoWhatsapp: document.getElementById('plano_selecionado_whatsapp'),

                    // Calculadora de Vizinhança
                    neighborSlider: document.getElementById('neighbor-slider'),
                    neighborCount: document.getElementById('neighbor-count'),
                    calculatorResult: document.getElementById('calculator-result'),

                    // Verificador de Cobertura (seção de Contato)
                    cepCheckInput: document.getElementById('cep-check'),
                    cepCheckBtn: document.getElementById('cep-check-btn'),
                    cepCheckResult: document.getElementById('cep-check-result'),

                    // Verificador de Cobertura (seção de Planos)
                    planCepCheckInput: document.getElementById('plan-cep-check'),
                    planCepCheckBtn: document.getElementById('plan-cep-check-btn'),
                    planCepCheckResult: document.getElementById('plan-cep-check-result'),

                    // Modal de Compartilhamento
                    shareModal: document.getElementById('shareModal'),
                    closeModalBtn: document.getElementById('closeModalBtn'),
                    modalBody: document.getElementById('modalBody'),

                    // FAQ
                    faqSearchInput: document.getElementById('faq-search-input'),
                    faqCategoryBtns: document.querySelectorAll('.faq-category-btn'),
                    faqList: document.getElementById('faq-list'),
                    faqItems: document.querySelectorAll('.faq-item'),
                    faqNoResults: document.getElementById('faq-no-results')
                };
            }

            /**
             * @method initializeModules
             * @description Inicializa instâncias de módulos independentes.
             */
            initializeModules() {
                Utils.setupCanvasAnimation(this.elements.heroCanvas, 'rgba(218, 41, 28, {opacity})');
                Utils.setupIntersectionObserver();
                new TypingEffect(this.elements.typingElement, this.config.typingEffectWords);
                new FAQManager(this.elements);
                this.coverageChecker = new CoverageChecker(this.config);
                this.neighborhoodCalculator = new NeighborhoodCalculator(this.elements);
                this.setupFleetInteraction();
            }

            /**
             * @method addEventListeners
             * @description Centraliza a adição de todos os principais listeners de eventos na página, organizados por funcionalidade.
             */
            addEventListeners() {
                // -- Listeners de Planos --
                this.elements.pricingOptions.forEach(option => {
                    option.addEventListener('click', (e) => this.handlePlanSelection(e));
                });
                this.elements.planCtaButton.addEventListener('click', (e) => this.handlePlanRedirect(e));

                // -- Listeners do Formulário de Contato --
                this.elements.contactFormInputs.forEach(input => {
                    input.addEventListener('input', () => Utils.validateInput(input));
                });
                this.elements.stateSelector.addEventListener('change', (e) => this.handleStateChange(e));
                this.elements.whatsappContactBtn.addEventListener('click', () => this.handleWhatsappContact());
                this.elements.phoneInput.addEventListener('input', (e) => { e.target.value = Utils.maskPhone(e.target.value); });

                // -- Listeners do Verificador de Cobertura (seção de Contato) --
                if (this.elements.cepCheckBtn) {
                    this.elements.cepCheckBtn.addEventListener('click', () => this.handleContactCepCheck());
                    this.elements.cepCheckInput.addEventListener('input', (e) => { e.target.value = Utils.maskCep(e.target.value); });
                    this.elements.cepCheckInput.addEventListener('blur', (e) => this.handleContactCepBlur(e));
                }

                // -- Listeners do Verificador de Cobertura (seção de Planos) --
                if (this.elements.planCepCheckBtn) {
                    this.elements.planCepCheckBtn.addEventListener('click', () => this.handlePlanCepCheck());
                    this.elements.planCepCheckInput.addEventListener('input', (e) => { e.target.value = Utils.maskCep(e.target.value); });
                    this.elements.planCepCheckInput.addEventListener('blur', (e) => this.handlePlanCepBlur(e));
                }

                // -- Listeners do Modal de Compartilhamento --
                if(this.elements.generateShareBtn) {
                    this.elements.generateShareBtn.addEventListener('click', () => this.openShareModal());
                }
                if(this.elements.closeModalBtn) {
                    this.elements.closeModalBtn.addEventListener('click', () => Utils.closeModal(this.elements.shareModal));
                }
                 if(this.elements.shareModal) {
                    this.elements.shareModal.addEventListener('click', (e) => {
                        if (e.target === this.elements.shareModal) Utils.closeModal(this.elements.shareModal);
                    });
                }
            }

            /**
             * @method updatePlanSectionUI
             * @description Atualiza o estado visual da seção de planos (habilitado/desabilitado).
             * @param {boolean} enable - True para habilitar, false para desabilitar.
             */
            updatePlanSectionUI(enable) {
                this.elements.pricingOptions.forEach(option => {
                    option.classList.toggle('disabled-option', !enable);
                    if (!enable) {
                        option.classList.remove('selected');
                    }
                });
                this.elements.planCtaButton.disabled = !enable || !this.state.selectedPlanData;
                if (!enable) {
                    this.elements.planCtaButton.textContent = '✓ Selecione um plano para prosseguir';
                }
            }

            //----------------------------------------------------------------------
            // 3. MÓDULOS DE FUNCIONALIDADE (Integração com Classes)
            //----------------------------------------------------------------------

            /**
             * @method setupFleetInteraction
             * @description Aplica um efeito de perspectiva 3D aos cartões de drones no hover do mouse.
             */
            setupFleetInteraction() {
                this.elements.droneCards.forEach(card => {
                    card.addEventListener('mousemove', (e) => {
                        const rect = card.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;
                        const { width, height } = rect;
                        const rotateX = ((y - height / 2) / (height / 2)) * -10;
                        const rotateY = ((x - width / 2) / (width / 2)) * 10;

                        card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.05, 1.05, 1.05)`;
                        card.style.setProperty('--mouse-x', `${x}px`);
                        card.style.setProperty('--mouse-y', `${y}px`);
                    });

                    card.addEventListener('mouseleave', () => {
                        card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
                    });
                });
            }

            /**
             * @method openShareModal
             * @description Abre e preenche o modal para compartilhamento da simulação de vizinhança.
             */
            openShareModal() {
                const modalContentHTML = this.neighborhoodCalculator.getShareModalContent();
                Utils.openModal(this.elements.shareModal, this.elements.modalBody, modalContentHTML);
            }

            //----------------------------------------------------------------------
            // 4. HANDLERS E LÓGICA DE NEGÓCIO
            //----------------------------------------------------------------------

            /**
             * @method handlePlanSelection
             * @description Lida com a seleção de um plano de preços, atualizando o estado e a UI.
             * @param {Event} e - O evento de clique.
             */
            handlePlanSelection(e) {
                if (!this.state.isAreaCoveredForPlans) {
                    this.elements.planCepCheckResult.innerHTML = `<p class="text-brand-red font-bold"><i class="fas fa-exclamation-triangle mr-2"></i>Verifique seu CEP antes de selecionar um plano!</p>`;
                    return;
                }

                const selectedOption = e.currentTarget;
                if (selectedOption.classList.contains('disabled-option')) {
                    return;
                }

                this.elements.pricingOptions.forEach(opt => opt.classList.remove('selected'));
                selectedOption.classList.add('selected');

                this.state.selectedPlanData = {
                    name: selectedOption.dataset.plan,
                    value: selectedOption.dataset.value
                };

                this.elements.planoSelecionadoWhatsapp.value = this.state.selectedPlanData.name;

                this.elements.planCtaButton.removeAttribute('disabled');
                this.elements.planCtaButton.textContent = `Prosseguir com ${this.state.selectedPlanData.name}`;
            }

            /**
             * @method handlePlanRedirect
             * @description Redireciona o usuário para a página de contratação com dados.
             * @param {Event} e - O evento de clique.
             */
            handlePlanRedirect(e) {
                e.preventDefault();
                if (!this.state.isAreaCoveredForPlans || this.elements.planCtaButton.hasAttribute('disabled') || !this.state.selectedPlanData) {
                    this.elements.planCepCheckResult.innerHTML = `<p class="text-brand-red font-bold"><i class="fas fa-exclamation-triangle mr-2"></i>Por favor, verifique a cobertura do CEP e selecione um plano.</p>`;
                    return;
                }

                const { name, value } = this.state.selectedPlanData;
                const { cep, logradouro, bairro, localidade, uf } = this.state.planAddressData;

                const url = `assinatura.html?` +
                    `plan=${encodeURIComponent(name)}&` +
                    `value=${encodeURIComponent(value)}&` +
                    `cep=${encodeURIComponent(cep)}&` +
                    `street=${encodeURIComponent(logradouro)}&` +
                    `neighborhood=${encodeURIComponent(bairro)}&` +
                    `city=${encodeURIComponent(localidade)}&` +
                    `state=${encodeURIComponent(uf)}`;

                window.location.href = url;
            }

            /**
             * @method handleStateChange
             * @description Popula o seletor de cidade quando o estado é alterado.
             * @param {Event} e - O evento de alteração.
             */
            handleStateChange(e) {
                const state = e.target.value;
                const cities = this.config.citiesByState[state] || [];

                this.elements.citySelector.innerHTML = '<option value="" disabled selected>Selecione a Cidade</option>';
                cities.forEach(city => {
                    const option = document.createElement('option');
                    option.value = city; option.textContent = city;
                    this.elements.citySelector.appendChild(option);
                });
                this.elements.citySelector.disabled = false;
                Utils.validateInput(this.elements.stateSelector);
            }

            /**
             * @method handleWhatsappContact
             * @description Valida o formulário de contato e gera um link pré-preenchido do WhatsApp.
             */
            handleWhatsappContact() {
                const isFormValid = [...this.elements.contactFormInputs].every(field => Utils.validateInput(field));

                if (!isFormValid) {
                    document.querySelector('#contact-form [required].invalid')?.focus();
                    return;
                }

                const getVal = (id) => document.getElementById(id).value;
                const fullAddress = `${getVal('street')}, ${getVal('number')}, ${getVal('neighborhood')}`;
                let message = `*Novo Contato - Guarddrone*\n\nOlá! Gostaria de falar com um especialista sobre os serviços da Guarddrone.\n\n*Meus Dados:*\n- *Nome:* ${getVal('name')}\n- *Email:* ${getVal('email')}\n- *Telefone:* ${getVal('phone')}\n- *Endereço para Análise:* ${fullAddress}\n- *Cidade/Estado:* ${getVal('city-selector')} / ${getVal('state-selector').toUpperCase()}`;

                const selectedPlanFromForm = this.elements.planoSelecionadoWhatsapp.value;
                if (selectedPlanFromForm) {
                    message += `\n- *Plano de Interesse:* ${selectedPlanFromForm}`;
                }

                message += `\n\nAguardo o contato. Obrigado!`;

                const whatsappUrl = `https://wa.me/${this.config.whatsappNumber}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }

            /**
             * @method handleContactCepCheck
             * @description Lida com a verificação de CEP na seção de contato.
             */
            async handleContactCepCheck() {
                await this.coverageChecker.check(
                    this.elements.cepCheckInput,
                    this.elements.cepCheckResult,
                    (data, city, state) => {
                        this.fillContactFormAddress(data, city, state);
                        this.syncCepToPlanSection(data.cep);
                    },
                    (data) => {
                        this.clearContactFormAddress();
                        this.syncCepToPlanSection(data ? data.cep : '');
                    }
                );
            }

            /**
             * @method handleContactCepBlur
             * @description Lida com o evento de blur do campo CEP na seção de contato.
             */
            handleContactCepBlur(e) {
                if (e.target.value.replace(/\D/g, '').length !== 8 && this.elements.cepCheckResult.innerHTML.includes('Ótima notícia')) {
                    this.elements.cepCheckResult.innerHTML = `<p class="text-text-secondary">Digite seu CEP e verifique a cobertura.</p>`;
                    this.clearContactFormAddress();
                    this.syncCepToPlanSection('');
                }
            }

            /**
             * @method handlePlanCepCheck
             * @description Lida com a verificação de CEP na seção de planos.
             */
            async handlePlanCepCheck() {
                await this.coverageChecker.check(
                    this.elements.planCepCheckInput,
                    this.elements.planCepCheckResult,
                    (data, city, state) => {
                        this.state.isAreaCoveredForPlans = true;
                        this.state.planAddressData = { cep: data.cep || '', logradouro: data.logradouro || '', bairro: data.bairro || '', localidade: data.localidade || '', uf: data.uf || '' };
                        this.updatePlanSectionUI(true);
                        this.syncCepToContactSection(data.cep);
                    },
                    (data) => {
                        this.state.isAreaCoveredForPlans = false;
                        this.state.planAddressData = { cep: '', logradouro: '', bairro: '', localidade: '', uf: '' };
                        this.updatePlanSectionUI(false);
                        this.elements.planCtaButton.textContent = '✓ Selecione um plano para prosseguir';
                        this.state.selectedPlanData = null;
                        this.elements.pricingOptions.forEach(opt => opt.classList.remove('selected'));
                        this.syncCepToContactSection(data ? data.cep : '');
                    }
                );
            }

            /**
             * @method handlePlanCepBlur
             * @description Lida com o evento de blur do campo CEP na seção de planos.
             */
            handlePlanCepBlur(e) {
                if (e.target.value.replace(/\D/g, '').length !== 8 && this.elements.planCepCheckResult.innerHTML.includes('Ótima notícia')) {
                    this.state.isAreaCoveredForPlans = false;
                    this.state.planAddressData = { cep: '', logradouro: '', bairro: '', localidade: '', uf: '' };
                    this.updatePlanSectionUI(false);
                    this.elements.planCepCheckResult.innerHTML = `<p class="text-text-secondary">Digite seu CEP e verifique a cobertura.</p>`;
                    this.syncCepToContactSection('');
                }
            }
            
            /**
             * @method syncCepToPlanSection
             * @description Sincroniza o CEP e o estado de cobertura para a seção de planos.
             * @param {string} cep - O CEP a ser sincronizado.
             */
            syncCepToPlanSection(cep) {
                 if(this.state.isUpdatingCepField) return;
                 this.state.isUpdatingCepField = true;
                 
                 this.elements.planCepCheckInput.value = cep ? Utils.maskCep(cep) : '';
                 this.handlePlanCepCheck().finally(() => {
                     this.state.isUpdatingCepField = false;
                 });
            }

            /**
             * @method syncCepToContactSection
             * @description Sincroniza o CEP para a seção de contato e preenche o formulário.
             * @param {string} cep - O CEP a ser sincronizado.
             */
            syncCepToContactSection(cep) {
                if(this.state.isUpdatingCepField) return;
                this.state.isUpdatingCepField = true;

                this.elements.cepCheckInput.value = cep ? Utils.maskCep(cep) : '';
                this.handleContactCepCheck().finally(() => {
                    this.state.isUpdatingCepField = false;
                });
            }

            /**
             * @method fillContactFormAddress
             * @description Preenche os campos de endereço no formulário de contato.
             */
            fillContactFormAddress(data, city, state) {
                this.elements.stateSelector.value = state;
                this.elements.stateSelector.dispatchEvent(new Event('change', { bubbles: true }));
                setTimeout(() => {
                   this.elements.citySelector.value = city;
                   Utils.validateInput(this.elements.citySelector);
                }, 100);
                this.elements.streetInput.value = data.logradouro || '';
                this.elements.neighborhoodInput.value = data.bairro || '';
                [this.elements.streetInput, this.elements.neighborhoodInput, this.elements.stateSelector, this.elements.citySelector].forEach(el => Utils.validateInput(el));
            }

            /**
             * @method clearContactFormAddress
             * @description Limpa os campos de endereço no formulário de contato.
             */
            clearContactFormAddress() {
                this.elements.streetInput.value = '';
                this.elements.neighborhoodInput.value = '';
                this.elements.stateSelector.value = '';
                this.elements.citySelector.innerHTML = '<option value="" disabled selected>Selecione a Cidade</option>';
                this.elements.citySelector.disabled = true;
                [this.elements.streetInput, this.elements.neighborhoodInput, this.elements.stateSelector, this.elements.citySelector].forEach(el => Utils.validateInput(el));
            }
        }

        // Inicializa a aplicação quando o DOM estiver pronto
        document.addEventListener('DOMContentLoaded', () => {
            const app = new MainPageApp();
            app.init();
        });
    </script>
</body>
</html>
